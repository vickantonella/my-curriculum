<!DOCTYPE html>
<html>
<head>
    <title>Informações do Banco</title>
    <!-- Adicione os links para o Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Informações do Banco</h1>
        <div id="bank-info" class="card">
            <!-- As informações específicas do banco serão exibidas aqui -->
        </div>
    </div>

    <script>
        // Adquire o código do banco a partir da URL
        function getBankCodeFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get("code");
        }

        // Busca informações do banco pelo código
        async function fetchBankDetails() {
            const bankCode = getBankCodeFromURL();
            if (bankCode) {
                try {
                    const response = await fetch(`https://brasilapi.com.br/api/banks/v1/${bankCode}`);
                    const data = await response.json();
                    const bankInfo = document.getElementById('bank-info');
                    const image = data.image ? `<img src="${data.image}" class="card-img-top" alt="Logo do Banco">` : '';
                    bankInfo.innerHTML = `
                        <div class="card-body">
                            <h2 class="card-title">${data.name}</h2>
                            <p class="card-text">Código Bancário: ${data.code}</p>
                            <p class="card-text">Nome completo: ${data.fullName}</p>
                            <p class="card-text">ISPB: ${data.ispb}</p>
                        </div>
                    `;
                } catch (error) {
                    console.error('Erro ao buscar informações do banco selecionado:', error);
                }
            }
        }

        fetchBankDetails();
    </script>
</body>
</html>
